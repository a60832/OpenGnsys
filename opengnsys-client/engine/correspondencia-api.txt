
OpenGNSys Client Cloning Engine API
===================================

La API está dividida en librerías de funciones C/BASH o clases C++/PHP.
La columna de la izquierda es la propuesta de nombre para función/método y la de la derecha es la equivalencia con las actuales en UMA/US/UNIZAR.

En el resto del fichero están las funciones originales que aún no he revisado.

Entre el nombre de la función y sus equivalentes, se añade estado de la migración.
    version 0.1 incorporada desde hidra, brutalix, EAC, o interfaz hidra-eac pero no compatible.
    version 0.x proceso de migración
    version 0.9 totalmente funcional con la estructura definida en las primeras funciones insertadas por Ramón. Un ejemplo es ogPartitionActive de la libreria Disk.lib


PROPUESTA
---------

Librería o clase Install:
- ogConfigureServer		0.1	(CustomEACServer, InterfazCustomEACServer)
- ogLoadConfig				(scirpt_uso)

Librería o clase System:
- ogEcho			0.9	(Msg)
- ogRaiseError			       	(?)

Librería o clase Disk:
- ogUpdatePartitionTable  	0.1	(UpdateDisk)  
- ogDeletePartitionTable		(DeletePartitionTable, hidraDeletePartitionTable)
- ogDevToDisk			       	(Disk, IdPartition, hidraDisk)
- ogDiskToDev				0.9	(DiskEAC)
  ogDiskToRelativeDev		0.1 (IdPartition)
- ogCreatePartitions		   	(CreatePartitions, hidraCreatePrimaryPartitions, hidraCreateLogicalPartitions)
- ogListPartitions		       	(ListPartitions, hidraListPartitions, hidraListPrimaryPartitions, hidraListLogicalPartitions)
- ogGetPartitionActive			(hidraGetPartitionActive)
- ogSetPartitionActive			(SetPartitionActive, hidraSetPartitionActive)
- ogGetPartitionId		0.9	(?)
- ogSetPartitionId			(?)
- ogGetPartitionSize		0.9	(SizePartition, hidraGetPartitionSize)
- ogSetPartitionSize			(hidraSetPartitionSize)
  ogGetPartitionsNumber     0.1    (DetectNumberPartition)
 

Librería o clase FileSystem:
- ogFormat, ogFormatFs			(FormatPartition, hidraFormat)
- ogFormatCache				(FormatCACHE, hidraFormatCache)
- ogExtend, ogExtendFs			(EnlargeFileSystem, hidraFSExtend)
- ogReduce, ogReduceFs			(ReduceFileSystem, hidraFSReduce)
- ogGetFsType				(TypeFS, hidraTypeFS)
- ogSetFsType				(SetPartitionType, hidraSetPartitionType)
- ogFindCache			0.1	(FindCache, hidraFindCache)
- ogIsLocked, ogIsFsLocked		(hidraIsLocked)
- ogLock, ogLockFs			(hidraLock)
- ogUnlock, ogUnlockFs			(hidraUnlock)
- ogMountFs, ogMount			(MountPartition, hidraMount)
- ogUnmountFs, ogUnmount		(UmountPartition, hidraUnmount)
- ogMountAllFs, ogMountAll		(hidraMountAll)
- ogUnmountAllFs, ogUnmountAll		(hidraUnmmountAll)
- ogMountRepo, ogMount			(MountRepo, hidraMountRepo)
- ogUnmountRepo, ogUnmount		(UmountRepo, hidraUnmountRepo)
- ogMountCache, ogMount			(MountCache, hidraMountCache)
- ogUnmountCache, ogUnmount		(UmountCache, hidraUnmountCache)

Librería o clase Image:
- ogCreateImage				(CreateImageFromPartition, hidraCreateImageFromPartition)
- ogRestoreImage			(RestorePartitionFromImage, RestorePartitionFromPartition, hidraRestorePartitionFromImage)
- ogGetImageSize			(hidraImageSize)
- ogCreateTorrent			(CreateTorrentFromImage)


Librería o clase Boot:
- ogBoot				(HDBoot, BootLinuxEX, hidraBoot)
- ogLinuxBootParameters			(hidraLinuxBootParameters)
- ogInstallGrub				(InstallGrub)
- ogConfigureGrub			(ConfGrub)
- ogListRegistryKeys			(hidraListRegistryKeys)
- ogGetRegistryValue			(hidraGetRegistryKey)
- ogSetRegistryValue			(hidraSetRegistryKey)
- ogGetWindowsName			(hidraGetWindowsName)
- ogSetWindowsName			(hidraSetWindowsName)

Librería o clase Inventory:
- ogListHardwareInfo			(InfoHardware, DetectDevices, hidraHardwareInfo)
- ogGetOsVersion			(hidraOSVersion)
- ogListSoftware
- ogListLinuxSoftware			(hidraLinuxSoftware)
- ogListWindowsSoftware			(idraWindowsSoftware)

Librería o clase File:
- ogGetPath				(ConnectToRepo, hidraPath)
- ogIsFile				(IfFileExist, IfFileNotExist)

Librería o clase String:

Librería o clase ToolsGNU


===================

Funciones EAC:

Referencia del Archivo ATA.lib

DetectNumberPartition -> GetPartitionNumber
NewMbrXP
DeleteLABELS
IsFSequalPartition -> CompareSizeFSPartition
AmpliarFileSystemNT -> desaparece (la anterior detecta el tipo de FS)
CrearSistemaArchivos
ELIMINARReducirFileSystemNT

Referencia del Archivo Boot.lib

SetDefaultBoot
ConvertToGrub
InstalaGrub4dos
moddhcpdconf

Referencia del Archivo Deploy.lib

SetDefaultStartpage
DetectMethodTransfer
GetImageFile
UpdateCache
CheckImage
DetectInfoImage -> GetImageInfo
DetectaProgramaImagen -> GetImageProgram
DetectaFSImagen -> GetImageFS
DetectCompresionImage -> GetImageCompression
DeployPartitionFromImage
OpenArchiveZIP
OpenArchiveNT
Synchronize
MakeOffline
MountChrootEACclient
UmountChrootEACclient
MakePhotoConsole
BORRARCheckImageTORRENT

Referencia del Archivo EACInstall.lib

BuildEACOSBase
BuildEACBootAgenPXE
BuildEACServer
TestPxe

Referencia del Archivo FileSystem.lib

SizeFileSystem
InfoCache
FormatToLower
FormatToUpper
FormatSintaxDev
FormatSintaxSpacePath
FormatSintaxBackSlashPath
GetPath
GetLastStr
GetFirstStr
MkdirPath
DetectaEtiquetas
WhatsTime
HowLongHasWorked
NumberRound

Referencia del Archivo PostConf.lib

CrearPatron
ParseaSysprep
NTDetect
LoadRegistrySystem
LoadRegistryUsers
UpdateRegistry
NTChangeName
NTDrivers
NTDrivers2
NTSetGroupName
NTSetOwner
NTAutoLogon
NTStatusRatonTeclado
NTRunOnceMachine
NTRunMachine
NTRunUser
NTPolUserOn
NTPolUserOFF
NTStatusBootChk
NTNoMsgNewHardware
ChangeName

Referencia del Archivo Settings.lib

IPservidor
IfacesEACclient
ExportEACconf
clean

Referencia del Archivo DBProcess.php

        RegistryHost ($mac, $ip)
        SetHostName ()
        BootServer ($boot, $ip)
        Logger ()
        InsertClassrom ($descripcion, $subred, $netmask, $broadcast, $gateway, $repo_image, $repo_client)
        InsertItemtoMenu ($menu, $item)


Funciones Hidra:

HIDRA (* a las que llama la web de hidra,las demás desaparecen salvo algunas que no existe en EAC)

hidraClientIP 
hidraClientMAC 
hidraDeleteFile 
hidraEACServer 
hidraFSCheck 
hidraPoweroff 
hidraReboot 
hidraUpdateCache 


Funciones de configuracion Unizar

eac_config_server
opengnsys_installer
