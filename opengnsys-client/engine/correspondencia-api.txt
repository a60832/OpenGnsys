
OpenGNSys Client Cloning Engine API
===================================

La API está dividida en librerías de funciones C/BASH o clases C++/PHP.
La columna de la izquierda es la propuesta de nombre para función/método y la de la derecha es la equivalencia con las actuales en UMA/US/UNIZAR.

En el resto del fichero están las funciones originales que aún no he revisado.

PROPUESTA
---------

Librería o clase Install:
- ogConfigureServer		(CustomEACServer, InterfazCustomEACServer)
- ogLoadConfig			(scirpt_uso)
- ogLoadEnviron			(hidraEnviron)

Librería o clase System:
- ogEcho			(Msg)
- ogRaiseError			(?)

Librería o clase Disk:
- ogUpdatePartitionTable	(UpdateDisk)
- ogDeletePartitionTable	(DeletePartitionTable, hidraDeletePartitionTable)
- ogDevToDisk			(Disk, IdPartition, hidraDisk)
- ogDiskToDev			(DiskEAC)
- ogCreatePartitions		(CreatePartitions, hidraCreatePrimaryPartitions, hidraCreateLogicalPartitions)
- ogListPartitions		(ListPartitions, hidraListPartitions, hidraListPrimaryPartitions, hidraListLogicalPartitions)
- ogGetPartitionActive		(hidraGetPartitionActive)
- ogSetPartitionActive		(SetPartitionActive, hidraSetPartitionActive)
- ogGetPartitionId		(?)
- ogSetPartitionId		(?)
- ogGetPartitionSize		(SizePartition, hidraGetPartitionSize)
- ogSetPartitionSize		(?)

Librería o clase FileSystem:
- ogFormat, ogFormatFs		(FormatPartition, hidraFormat)
- ogFormatCache			(FormatCACHE, hidraFormatCache)
- ogExtend, ogExtendFs		(EnlargeFileSystem, hidraFSExtend)
- ogReduce, ogReduceFs		(ReduceFileSystem, hidraFSReduce)
- ogGetFsType			(TypeFS, hidraTypeFS)
- ogSetFsType			(SetPartitionType, hidraSetPartitionType)
- ogFindCache			(FindCache, hidraFindCache)
- ogIsLocked, ogIsFsLocked	(hidraIsLocked)
- ogLock, ogLockFs		(hidraLock)
- ogUnlock, ogUnlockFs		(hidraUnlock)
- ogMountFs, ogMount		(MountPartition, hidraMount)
- ogUnmountFs, ogUnmount	(UmountPartition, hidraUnmount)
- ogMountAllFs, ogMountAll	(hidraMountAll)
- ogUnmountAllFs, ogUnmountAll	(hidraUnmmountAll)
- ogMountRepo, ogMount		(MountRepo, hidraMountRepo)
- ogUnmountRepo, ogUnmount	(UmountRepo, hidraUnmountRepo)
- ogMountCache, ogMount		(MountCache, hidraMountCache)
- ogUnmountCache, ogUnmount	(UmountCache, hidraUnmountCache)

Librería o clase Image:
- ogCreateImage			(CreateImageFromPartition, hidraCreateImageFromPartition)
- ogRestoreImage		(RestorePartitionFromImage, RestorePartitionFromPartition, hidraRestorePartitionFromImage)
- ogCreateTorrent		(CreateTorrentFromImage)


Librería o clase Boot:
- ogBoot			(HDBoot, BootLinuxEX, hidraBoot)
- ogInstallGrub			(InstallGrub)
- ogConfigureGrub		(ConfGrub)
- ogGetWindowsName		(hidraGetWindowsName)
- ogSetWindowsName		(hidraSetWindowsName)

Librería o clase Inventory:
- ogListHardwareInfo		(InfoHardware, DetectDevices, hidraHardwareInfo)
- ogGetOsVersion			(hidraOSVersion)
- ogGetLinuxSoftware		(hidraLinuxSoftware)
- hogGetWindowsSoftware		(idraWindowsSoftware)

Librería o clase File:
- ogGetPath			(ConnectToRepo, hidraPath)
- ogIsFile			(IfFileExist, IfFileNotExist)

Librería o clase String:


===================

Funciones EAC:

Referencia del Archivo ATA.lib

function        DetectNumberPartition () -> GetPartitionNumber
function        NewMbrXP ()
function        DeleteLABELS ()
function        IsFSequalPartition () -> CompareSizeFSPartition
function        AmpliarFileSystemNT () -> desaparece (la anterior detecta el tipo de FS)
function        CrearSistemaArchivos ()
function        ELIMINARReducirFileSystemNT ()

Referencia del Archivo Boot.lib

function        BootLinuxEX ()
function        SetDefaultBoot ()
function        ConvertToGrub ()
function        InstalaGrub4dos ()
function        moddhcpdconf ()

Referencia del Archivo Deploy.lib

function        SetDefaultStartpage ()
function        DetectMethodTransfer ()
function        GetImageFile ()
function        UpdateCache ()
function        CheckImage ()
function        DetectInfoImage () -> GetImageInfo
function        DetectaProgramaImagen () -> GetImageProgram
function        DetectaFSImagen () -> GetImageFS
function        DetectCompresionImage () -> GetImageCompression
function        DeployPartitionFromImage ()
function        OpenArchiveZIP ()
function        OpenArchiveNT ()
function        Synchronize ()
function        MakeOffline ()
function        MountChrootEACclient ()
function        UmountChrootEACclient ()
function        MakePhotoConsole ()
function        BORRARCheckImageTORRENT ()

Referencia del Archivo EACInstall.lib

function        BuildEACOSBase ()
function        BuildEACBootAgenPXE ()
function        BuildEACServer ()
function        TestPxe ()

Referencia del Archivo FileSystem.lib

function        SizeFileSystem ()
function        InfoCache ()
function        FormatToLower ()
function        FormatToUpper ()
function        FormatSintaxDev ()
function        FormatSintaxSpacePath ()
function        FormatSintaxBackSlashPath ()
function        GetPath ()
function        GetLastStr ()
function        GetFirstStr ()
function        MkdirPath ()
function        DetectaEtiquetas ()
function        WhatsTime ()
function        HowLongHasWorked ()
function        NumberRound ()

Referencia del Archivo PostConf.lib

function        CrearPatron ()
function        ParseaSysprep ()
function        NTDetect ()
function        LoadRegistrySystem ()
function        LoadRegistryUsers ()
function        UpdateRegistry ()
function        NTChangeName ()
function        NTDrivers ()
function        NTDrivers2 ()
function        NTSetGroupName ()
function        NTSetOwner ()
function        NTAutoLogon ()
function        NTStatusRatonTeclado ()
function        NTRunOnceMachine ()
function        NTRunMachine ()
function        NTRunUser ()
function        NTPolUserOn ()
function        NTPolUserOFF ()
function        NTStatusBootChk ()
function        NTNoMsgNewHardware ()
function        ChangeName ()

Referencia del Archivo Settings.lib

function        IPservidor ()
function        IfacesEACclient ()
function        ExportEACconf ()
function        clean ()

Referencia del Archivo DBProcess.php

        RegistryHost ($mac, $ip)
        SetHostName ()
        BootServer ($boot, $ip)
        Logger ()
        InsertClassrom ($descripcion, $subred, $netmask, $broadcast, $gateway, $repo_image, $repo_client)
        InsertItemtoMenu ($menu, $item)


Funciones Hidra:

HIDRA (* a las que llama la web de hidra,las demás desaparecen salvo algunas que no existe en EAC)

hidraClientIP 
hidraClientMAC 
hidraDeleteFile 
hidraEACServer 
hidraFSCheck 
hidraGetRegistryKey 
hidraImageSize 
hidraLinuxBootParameters 
hidraListRegistryKeys 
hidraPoweroff 
hidraReboot 
hidraSetPartitionSize 
hidraSetRegistryKey 
hidraUpdateCache 


Funciones de configuracion Unizar

eac_config_server
opengnsys_installer
