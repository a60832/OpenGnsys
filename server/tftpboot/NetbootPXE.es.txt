

OpenGnsys usa como gestor pxe, el binario pxelinux.0


También ofrece la posibilidad de usar el bianrio grldr que se está evaluando para solucionar algunas incidencias.



Activar el grldr del grub4dos
1) modificar el dhcp, donde aparezca filename "pxelinux.0" por "grldr"
     filename "grldr";
2) Reiniciamos el servicio dhcp    
     /etc/init.d/dhcpd restart
3) Renombrar cambiar el gestor de arranque de la web, para que use grldr.
    cp /opt/opengnsys/www/principal/boot.php /opt/opengnsys/www/principal/boot.pxelinux.php
    cp /opt/opengnsys/www/principal/boot.grub4dos.php /opt/opengnsys/www/principal/boot.php

    cp /opt/opengnsys/www/gestores/gestor_pxe.php /opt/opengnsys/www/gestores/gestor_pxe.pxelinux.php
    cp /opt/opengnsys/www/gestores/gestor_pxe_grub4dos.php /opt/opengnsys/www/gestores/gestor_pxe.php
    
4) 
En la funcion ogBoot, de la libreria Boot.lib descomentar los comentarios del if de las líneas 71 a 85, para que quede 
        #FIXME: activar seguimiento inicio sesion XP con grub4dos
		if `ogGetOsVersion $1 $2 | grep "XP" > /dev/null`
        then 
        	dd if=/dev/zero of=${MNTDIR}/ogboot.me  bs=1024 count=3
        	dd if=/dev/zero of=${MNTDIR}/ogboot.firstboot  bs=1024 count=3
        	dd if=/dev/zero of=${MNTDIR}/ogboot.secondboot  bs=1024 count=3         
        	ogLoadHiveWindows $1 $2
			ogHiveNTRunMachine "cmd /c del c:\ogboot.* "  ogcleanboot
			ogUpdateHiveWindows
			reboot
        else        
        	cp $OGLIB/grub4dos/* $MNTDIR    # */ (Comentario Doxygen)
        	##kexec -l $MNTDIR/grub.exe --append=--config-file="find --set-root /$LOADER; chainloader /$LOADER; tpm --init"
        	kexec -l $MNTDIR/grub.exe --append=--config-file="root (hd$[$1-1],$[$2-1]); chainloader (hd$[$1-1],$[$2-1])/$LOADER; tpm --init"
		fi


 
