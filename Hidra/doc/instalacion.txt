	Instalación de Hidra
	--------------------


1. Componentes:

	hidra - servicio distribuidor de órdenes.
	hidraboot - servicios DHCP y TFTP para arranque remoto.
	hidrarepos - servicio del repositorio de ficheros.
	hidrac - demonio receptor de órdenes para cada cliente.
	webhidra - ficheros del interfaz web.
	bdhidra - base de datos MySQL.


2. Requisitos.

	Apache, PHP, MySQL (para la interfaz web).
	libmysql (para los servicios).


3. Compilación:

Los 4 1os. componentes son demonios que deben ser compilados e instalados usando el Makefile del directorio correspondiente.

En su ejecución, cada uno de ellos tomoa 2 parámetros:
	-f fichero de configuración
	-l fichero de registro de incidencias
Existen ficheros de ejemplo en los directorios correspondientes.


4. Instalación de la interfaz web:

Copiar los ficheros de "webhidra" en el directorio adecuado del servidor web.
El demonio de apache debe tener permiso de escritura en algunos ficheros.
Puede ser necesario modificar algunos ficheros para indicar las URLs correctas.

Volcar el contenido del fichero SQL de la base de datos y establecer los permisos de acceso para que coincidan con los ficheros del web.


5. Instalación de los demonios:

Usar los Makefile o copiar los ejecutables de hidra, hidraboot e hidrarepos en el servidor indicado en los ficheros de configuración y establecer los valores adecuados para acceder a la base de datos.

Hidrarepos requiere tener definida la siguiente estructura de directorios:
	/usr/local/hidra/boot - ficheros de arranque de cliente (kernel, initrd).
	/usr/local/hidra/comandos -
	/usr/local/hidra/imagenes - almacén de imágenes de arranque.
	/usr/local/hidra/scripts - scripts ejecutados por el repositorio.


6. Proceso de arranque de los servicios.

El orden correcto de arranque es el siguiente:
- Iniciar Mysql y Apache.
- Si no estan definidos, dar de alta los servidores Hidra (Rembo) e Hidraboot (DHCP) en la interfaz web. 
- Iniciar Hidra.
- Iniciar Hidraboot (u otros servicios DHCP y TFTP).
- Iniciar Hidrarepos.


7. Arranque del cliente.

Cada cliente debe ser dado de alta previamente en el interfaz web.
Si no se usa Hidrarepos, dar de alta el cliente en los servicios DHCP y TFTP.
Debe modificarse la BIOS del cliente para arrancar por PXE.

El cliente recibe la distribución Ping Brutal modificada y al arrancar cuenta con los siguientes consolas:
- tty1 (ALT-F1): menú del cliente Hidra (actualmente en desarrollo).
- tty2 (ALT-F2): salida de error de los comandos ejecutados por "hidrac".
- tty3 a tty6 (ALT-F3 a ALT-F6): consolas normales.

En la distribución actual, sólo está definido el usuario "root", sin clave y ejecutando automáticamente el menú de Brutalix.


(continuar)

