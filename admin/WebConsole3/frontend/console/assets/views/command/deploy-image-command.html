<section class="content-header">
  <h1 translate="deploy_image"></h1>
  <ol class="breadcrumb">
    <li><a ui-sref="app.dashboard"><i class="fa fa-dashboard"></i> {{'dashboard'|translate}}</a></li>
    <li><a ui-sref="app.ous" ><i class="fa fa-th"></i> {{'ous'|translate}}</a></li>
    <li class="active" translate="deploy_image"></li>
  </ol>
</section>
<section style="padding: 0 30px;">
	<h3 translate="selected_clients"></h3>
	<ng-include src="'assets/views/partials/og-options/og-selected-clients.html'"></ng-include>
</section>
<section class="content padding-top-30" style="padding-top: 30px">
	<div class="box box-default box-solid">
	    <div class="box-header with-border">
	    </div>
	    <!-- /.box-header -->
	    <div class="box-body">
	    	<form role="form" name="vm.Form">
	    		<div class="form-inline">
					<div class="form-group" ng-class="{'has-error':vm.Form.deployImage.$dirty && vm.Form.deployImage.$invalid, 'has-success':vm.Form.deployImage.$valid}">
						<div class="checkbox clip-check check-primary checkbox-inline">
							<input id="parameters" name="deployImage" icheck checkbox-class="iradio_square-blue" radio-class="iradio_square-blue" type="radio" class="selection-checkbox" value="true" ng-model="vm.deployImage" ng-change="vm.updateDeployOptions()" />
						</div>
						<label for="deployImage">
							<span translate="deploy_image_update_restore"></span>
						</label>
					</div>
					<div class="form-group" ng-class="{'has-error':vm.Form.updateCache.$dirty && vm.Form.updateCache.$invalid, 'has-success':vm.Form.updateCache.$valid}">
						<div class="checkbox clip-check check-primary checkbox-inline">
							<input id="parameters" name="updateCache" icheck checkbox-class="iradio_square-blue" radio-class="iradio_square-blue" type="radio" class="selection-checkbox" value="false" ng-model="vm.deployImage" ng-change="vm.updateDeployOptions()" />
						</div>
						<label for="updateCache">
							<span translate="update_cache_only_download"></span>
						</label>
					</div>
				</div>
				<div class="row">
					<div class="form-group col-md-4">
			    		<div class="form-group" ng-class="{'has-error':vm.Form.images.$dirty && vm.Form.images.$invalid, 'has-success':vm.Form.images.$valid}">
							<label for="images">
								<span translate="images">
							</label>
							<select ng-change="vm.setCanonicalName()" ng-options="image as image.canonicalName for image in vm.images" class="form-control" type="text" ng-model="vm.image" name="images"></select>
						</div>
					</div>
					<div class="form-group col-md-2">
						<label for="disk" translate="disk">
						</label>
						<input name="disk" type="number" min="1" ng-model="vm.disk" class="form-control">

					</div>
					<div class="form-group col-md-2">
						<label for="partition" translate="partition">
						</label>
						<input name="partition" type="number" min="1" ng-model="vm.partition" class="form-control">
					</div>
		    		<div class="form-group col-md-4">
		    			<label for="deployMethod" translate="deploy_method">
		    			</label>
			    		<select class="form-control" name="deployMethod" ng-options="deployMethod for deployMethod in vm.deployMethods" ng-model="vm.deployMethod"></select>
			    	</div>
			    </div>
			    <div ng-if="vm.deployMethod == 'MULTICAST' || vm.deployMethod == 'MULTICAST-DIRECT'">
		    		<div class="row">
	    				<div class="form-group col-md-4">
			    			<label for="port" translate="port">
			    			</label>
			    			<input class="form-control" type="text" name="port" ng-model="vm.multicast.port"/>
		    			</div>
	    				<div class="form-group col-md-4">
			    			<label for="address" translate="address">
			    			</label>
			    			<input class="form-control" type="text" name="address" ng-model="vm.multicast.address"/>
			    		</div>
	    				<div class="form-group col-md-4">
			    			<label for="multicastMode" translate="mode">
			    			</label>
			    			<input class="form-control" type="text" name="multicastMode" ng-model="vm.multicast.mode"/>
		    			</div>
		    		</div>
		    		<div class="row">
	    				<div class="form-group col-md-4">
			    			<label for="speed" translate="speed">
			    			</label>
			    			<input class="form-control" type="text" name="speed" ng-model="vm.multicast.speed"/>
			    		</div>
	    				<div class="form-group col-md-4">
			    			<label for="maxClients" translate="max_clients">
			    			</label>
			    			<input class="form-control" type="text" name="maxClients" ng-model="vm.multicast.maxClients"/>
			    		</div>
	    				<div class="form-group col-md-4">
			    			<label for="maxWaitTime" translate="max_wait_time">
			    			</label>
			    			<input class="form-control" type="text" name="maxWaitTime" ng-model="vm.multicast.maxWaitTime"/>
			    		</div>
		    		</div>
		    	</div>
		    	<div class="row" ng-if="vm.deployMethod == 'TORRENT'">
		    		<div class="form-group col-md-6">
		    			<label for="torrentMode" translate="mode">
		    			</label>
		    			<input class="form-control" type="text" name="torrentMode" ng-model="vm.torrent.mode"/>
		    		</div>
		    		<div class="form-group col-md-6">
		    			<label for="seedTime" translate="seed_time">
		    				
		    			</label>
		    			<input class="form-control" type="text" name="seedTime" ng-model="vm.torrent.seedTime"/>
		    		</div>
		    	</div>
	    	</form>

	    </div>
	    <!-- /.box-body -->
	    <div class="box-footer">
	    	<div class="row">
	    		<div class="col-md-12">
	    			<div class="btn-group pull-left">
		    			<button class="btn btn-primary" ng-click="vm.generateOgInstruction()"><span translate="generate_og_instruction"></span></button>
		    			<button  class="btn" ng-class="{'btn-default': vm.editInstructions == false, 'btn-success': vm.editInstructions == true}" ng-init="vm.editInstructions = false" ng-if="OGCommandsService.ogInstructions != ''" ng-click="vm.editInstructions = !vm.editInstructions"><span translate="{{vm.editInstructions == false?'edit':'done'}}"></span></button>
		    		</div>
		    		<div class="btn-group pull-right">
		    			<ng-include src="'assets/views/partials/og-options/og-execute-command-options.html'">
		    			</ng-include>
		    		</div>
	    		</div>
	    	</div>
	    	<div class="row">
		    	<div class="col-md-12">
		    		<div class="box">
		    			<div class="box-header"></div>
		    			<div class="box-body" >
		    				<div ng-if="vm.editInstructions == false" ng-bind-html="OGCommandsService.ogInstructions|ogCommands"></div>
		    				<textarea ng-if="vm.editInstructions == true" class="og-instructions" ng-model="OGCommandsService.ogInstructions"></textarea>
		    			</div>
		    		</div>
		    	</div>
		    </div>
	    </div>
	</div>
</section>