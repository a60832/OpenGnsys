<!-- Nested node template -->
<script type="text/ng-template" id="group_renderer.html">
	<div class="box box-warning" >
        <div class="box-header with-border">
        	<i class="fa fa-folder-open-o"></i>
          	<h3 class="box-title">
          		<div class="btn-group" ng-if="!content.editing">
          			<div>
              			<a href="javascript:void(0)" data-toggle="dropdown" class="dropdown-toggle" >
              				{{content.name}}
              			</a>
                    <ul class="dropdown-menu">
                      <li role="presentation">
                        <a role="menuitem" tabindex="-1" href="#" translate="add_group"></a>
                      </li>
                      <li role="presentation">
                        <a role="menuitem" tabindex="-1" href="#" translate="add_profile"></a>
                      </li>
                      <li role="presentation" class="divider"></li>
                      <li>
                        <a class="" href="javascript:void(0)" translate="edit" ng-click="content.$$tmpName = content.name; content.editing = true"></a>
                      </li>
                      <li role="presentation" class="divider"></li>
                      <li role="presentation" class="delete-option">
                        <a class="" href="javascript:void(0)" translate="delete" ng-click="vm.deleteGroup(content.id)"></a>
                      </li>
                    </ul>
                </div>
          		</div>
          		<div ng-if="content.editing" class="col-xs-6">
					       <input type="text" class="form-control" ng-model="content.$$tmpName">
                    <span class="input-group-btn">
                      <button type="button" class="btn btn-default btn-flat" translate="done" ng-click="vm.changeGroupName(content)"></button>
                      <button type="button" class="btn btn-info btn-flat" translate="cancel" ng-click="content.editing = false"></button>
                    </span>
	            </div>
          	</h3>
            <div class="box-tools pull-right">
            	<button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
            	</button>
            </div>
          <!-- /.box-tools -->
        </div>
        <!-- /.box-header -->
        <div class="box-body folders" style="display: block;">

         	<div ng-repeat="content in content.groups" ng-include="'group_renderer.html'">
         	</div>
         	<div ng-if="content.profiles" ng-include="'profiles_renderer.html'"></div>
        </div>
      </div>
</script>
<script type="text/ng-template" id="profiles_renderer.html">
	<table class="table table-hover">
        <tbody><tr>
          <th translate="description"></th>
          <th translate="windowsboot"></th>
          <th translate="options"></th>
        </tr>
        <tr ng-repeat="profile in content.profiles | filter: vm.searchText" ng-class="{'odd': $index%2 == 0, 'even': $index%2 != 0}">
          <td>
              <span ng-if="profile.$$editing">
                <input type="text" class="form-control" ng-model="profile.$$tmpDescription">
              </span>
              <span ng-if="!profile.$$editing">
                {{profile.description}}
              </span>
          </td>
          <td>
               <span ng-if="profile.$$editing">
                  <select class="form-control" ng-options="item for item in vm.windowsboots" ng-model="profile.$$tmpWindowsboot">
                  </select>
                </span>
                <span ng-if="!profile.$$editing">
                  {{profile.windowsboot}}
                </span>
          </td>
          <td class="right">
              <span ng-if="profile.$$editing">
                <div class="btn-group ">
                  <button class="btn btn-primary " translate="ok" ng-click="vm.saveHardwareProfile(profile)"></button>
                  <button class="btn btn-default " translate="cancel" ng-click="profile.$$editing = false"></button>
                </div>
              </span>
              <span ng-if="!profile.$$editing">
                <div class="btn-group visible-md visible-lg hidden-sm hidden-xs">
                  <button class="btn btn-default" translate="edit" ng-click="vm.editHardwareProfile(profile)"></button>
                  <button class="btn btn-default" href="javascript:void(0)" translate="config" ui-sref="app.hardware.profile.edit({profileId: profile.id})"></button>
                  <button class="btn btn-danger " translate="delete" ng-click="vm.deleteHardwareProfile(profile)"></button>
                </div>
                <div class="btn-group hidden-md hidden-lg">
                  <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                    <i class="fa fa-gear"></i>
                    <span class="caret"></span>
                    <span class="sr-only">Toggle Dropdown</span>
                  </button>
                  <ul class="dropdown-menu" role="menu">
                    <li class="btn-group-vertical">
                       <button class="btn btn-default" translate="edit" ng-click="vm.editHardwareProfile(profile)"></button>
                       <button class="btn btn-default" href="javascript:void(0)" translate="config" ui-sref="app.hardware.profile.edit({profileId: profile.id})"></button>
                      <button class="btn btn-danger" href="javascript:void(0)" translate="delete" ng-click="vm.deleteHardwareProfile(profile)"></button>
                    </li>
                  </ul>
                </div>
              </span>
           </td>
        </tr>
      </tbody>
	</table>
</script>
<div ng-repeat="content in vm.hardwareProfileGroups" ng-include="'group_renderer.html'"></div>
<!--div ng-init="content.profiles = vm.hardwareProfiles" ng-include="'profiles_renderer.html'"></div-->