<!-- Nested node template -->
<script type="text/ng-template" id="component_group_renderer.html">

  <div class="box box-warning" >
        <div class="box-header with-border">
          <i class="fa fa-folder-open-o"></i>
            <h3 class="box-title">
              <div class="btn-group" ng-if="!content.$$editing">
                <div>
                    <a href="javascript:void(0)" data-toggle="dropdown" class="dropdown-toggle" >
                      {{content.name}}
                    </a>
                     <ul class="dropdown-menu">
                      <li role="presentation">
                        <a role="menuitem" tabindex="-1" href="#" translate="add_group"></a>
                      </li>
                      <li role="presentation">
                        <a role="menuitem" tabindex="-1" href="#" translate="add_hardware_component"></a>
                      </li>
                      <li role="presentation" class="divider"></li>
                      <li>
                        <a class="" href="javascript:void(0)" translate="edit" ng-click="content.$$tmpDescription = content.description; content.$$editing = true"></a>
                      </li>
                      <li role="presentation" class="divider"></li>
                      <li role="presentation" class="delete-option">
                        <a class="" href="javascript:void(0)" translate="delete" ng-click="vm.deleteGroup(content.id)"></a>
                      </li>
                    </ul>
                </div>
              </div>
              <div ng-if="content.$$editing" class="col-xs-6">
                    <input type="text" class="form-control" ng-model="content.$$tmpDescription">
                    <span class="input-group-btn">
                      <button type="button" class="btn btn-default btn-flat" translate="done" ng-click="vm.changeGroupName(content)"></button>
                      <button type="button" class="btn btn-info btn-flat" translate="cancel" ng-click="content.$$editing = false"></button>
                    </span>
              </div>
            </h3>
          <div class="box-tools pull-right">
              <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i></button>
          </div>
          <!-- /.box-tools -->
        </div>
        <!-- /.box-header -->
        <div class="box-body folders" style="display: block;">

          <div ng-repeat="content in content.groups" ng-include="'component_group_renderer.html'">
          </div>
          <div ng-if="content.components" ng-include="'components_renderer.html'"></div>
        </div>
      </div>
</script>
<script type="text/ng-template" id="components_renderer.html">
  <table class="table table-hover">
            <tbody>
            <tr>
              <th translate="description"></th>
              <th translate="type"></th>
              <!--th translate="imageUrl"></th-->
              <th translate="options"></th>
            </tr>
            <tr ng-repeat="hardwareComponent in content.components | filter: vm.searchText" ng-class="{'odd': $index%2 == 0, 'even': $index%2 != 0}">
              <td>
                <span ng-if="hardwareComponent.$$editing">
                  <input type="text" class="form-control" ng-model="hardwareComponent.$$tmpDescription">
                </span>
                <span ng-if="!hardwareComponent.$$editing">
                  {{hardwareComponent.description}}
                </span>
              </td>
              <td>
                <span ng-if="hardwareComponent.$$editing">
                  <select ng-options="hardwareType.nemonic as hardwareType.name for hardwareType in vm.hardwareTypes" class="form-control" ng-model="hardwareComponent.$$tmpType"></select>
                </span>
                <span ng-if="!hardwareComponent.$$editing">
                  <select disabled="disabled" ng-options="hardwareType.nemonic as hardwareType.name for hardwareType in vm.hardwareTypes" class="form-control" ng-model="hardwareComponent.type"></select>
                </span>
              </td>
              <td class="right">
                <span ng-if="hardwareComponent.$$editing">
                  <div class="btn-group ">
                    <button class="btn btn-primary " translate="ok" ng-click="vm.saveHardwareComponent(hardwareComponent)"></button>
                    <button class="btn btn-default " translate="cancel" ng-click="hardwareComponent.$$editing = false"></button>
                  </div>
                </span>
                <span ng-if="!hardwareComponent.$$editing">
                  <div class="btn-group visible-md visible-lg hidden-sm hidden-xs">
                    <button class="btn btn-default " translate="edit"  ng-click="vm.editHardwareComponent(hardwareComponent)"></button>
                    <button class="btn btn-danger " translate="delete" ng-click="vm.deleteHardwareComponent(hardwareComponent)"></button>
                  </div>
                  <div class="btn-group hidden-md hidden-lg">
                    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                      <i class="fa fa-gear"></i>
                      <span class="caret"></span>
                      <span class="sr-only">Toggle Dropdown</span>
                    </button>
                    <ul class="dropdown-menu" role="menu">
                      <li class="btn-group-vertical">
                        <button class="btn btn-default" translate="edit" ng-click="vm.editHardwareComponent(hardwareComponent)"></button>
                        <button class="btn btn-danger"  translate="delete" ng-click="vm.deleteHardwareComponent(hardwareComponent)"></button>
                      </li>
                    </ul>
                  </div>
                </span>
             </td>
            </tr>
          </tbody>
    </table>
</script>
<div ng-repeat="content in vm.hardwareComponentsGroups" ng-include="'component_group_renderer.html'"></div>